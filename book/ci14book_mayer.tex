%%%%%%%%%%%%%%%%%%%% author.tex %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% sample root file for your "contribution" to a contributed volume
%
% Use this file as a template for your own input.
%
%%%%%%%%%%%%%%%% Springer %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% RECOMMENDED %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass[graybox]{svmult}

% choose options for [] as required from the list
% in the Reference Guide

\usepackage{mathptmx}       % selects Times Roman as basic font
\usepackage{helvet}         % selects Helvetica as sans-serif font
\usepackage{courier}        % selects Courier as typewriter font
\usepackage{type1cm}        % activate if the above 3 fonts are
                            % not available on your system
%
\usepackage{makeidx}         % allows index generation
\usepackage{graphicx}        % standard LaTeX graphics tool
                             % when including figure files
\usepackage{multicol}        % used for the two-column index
\usepackage[bottom]{footmisc}% places footnotes at page bottom
\usepackage{placeins}

% see the list of further useful packages
% in the Reference Guide

\makeindex             % used for the subject index
                       % please use the style svind.ist with
                       % your makeindex program

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{../macros.sty}

\begin{document}

\title*{\sciwms{}:Python based Web Mapping Service for Visualizing Geospatial Data}
% Use \titlerunning{Short Title} for an abbreviated version of
% your contribution title if the original one is too long
\author{Brandon A. Mayer, Brian McKenna, Alex Crosby and Kelly Knee}
% Use \authorrunning{Short Title} for an abbreviated version of
% your contribution title if the original one is too long
\institute{Brandon A. Mayer \at Brown University, 182 Hope Street Providence RI 02906 \email{brandon\_mayer@brown.edu}
  \and Brian McKenna, Kelly Knee \at RPS-ASA  \email{name@email.address}
  \and Alex Crosby \at }
%
% Use the package "url.sty" to avoid
% problems with special characters
% used in your e-mail or web address
%
\maketitle

\abstract*{\sciwms{} is an open-source python implementation of an \ogc{}
\wms{}~\cite{wms14} service for qualitatively assessing
society-critical atmospheric and oceanagraphic applications including:
forecasting, risk assessment, model comparison and
algorithmic/parameter selection. The modular cross-platform
implementation of \sciwms{} allows the service to keep pace with the
rapid developments in the geospatial data science community and to
produce visualizations for numerous types of model outputs with
transparent support for both structured and unstructured
geo-referenced topologies. This article outlines the implementation
and technology stack for visualizing geospatial Climatological and
Forecasting (CF) data using
\sciwms{}\footnote{https://github.com/asascience-open/sci-wms} and
details the deployment of \sciwms{} for visualizing model data and
simulations within the scope of the U.S. \ioos{} Coastal and Ocean
Modeling Testbed project~\cite{luettich13}.}

\abstract{\sciwms{} is an open-source python implementation of an \ogc{}
\wms{}~\cite{wms14} service for qualitatively assessing
society-critical atmospheric and oceanagraphic applications including:
forecasting, risk assessment, model comparison and
algorithmic/parameter selection. The modular cross-platform
implementation of \sciwms{} allows the service to keep pace with the
rapid developments in the geospatial data science community and to
produce visualizations for numerous types of model outputs with
transparent support for both structured and unstructured
geo-referenced topologies.This article outlines the implementation
and technology stack for visualizing geospatial Climatological and
Forecasting (CF) data using
\sciwms{}\footnote{https://github.com/asascience-open/sci-wms} and
details the deployment of \sciwms{} for visualizing model data and
simulations within the scope of the U.S. \ioos{} Coastal and Ocean
Modeling Testbed project~\cite{luettich13}.}

\section{Motivation}
\label{sec:motivation}
The U.S. Integrated Ocean Observing System (\ioos{}) Coastal and Ocean
Modeling Testbed (\comt{}) was formed to unify otherwise disparate
entities in government, academia and industry to leverage the
proliferation of oceanagraphic data and modeling techniques to combat
natural and man-made coastal stressors by accelerating the turnaround
from research and development to operational application of
society-critical applications including: forecasting, model
comparison, model skill assessment, and algorithmic/parameterization
improvements~\cite{luettich13}. Key to the U.S. \ioos{} \comt{}
mission is an extensible and universally available tool for quickly
visualizing and assessing a diverse set of coastal modeling
data. \sciwms{} is a general \ogc{} \wms{} solution for serving
rasterized visualizations of geospatial data which has been deployed
for the \comt{} project to provide visualizations of a wide range of
scientific data.

\section{\sciwms{}}
\label{sec:sciwms}
\Sciwms{} is an open-source implementation of the Open Geospatial
Consortium's (\ogc{}) Web Map Service (\wms{}) standard which
specifies an HTTP interface for generating rasterized visualizations
of geospatial data~\cite{wms14}. \sciwms{} is implemented in Python
using the Django\footnote{\url{https://www.djangoproject.com/}} web
framework and standard cross-platform numerical software,
NumPy~\cite{numpy11} and Matplotlib~\cite{hunter07} for generating
visual content. Additionally, the open-source python implementation
provides a cross-platform \wms{} solution which can leverage the suite
of tools developed by the geospatial data analysis community such as
pyugrid\footnote{https://github.com/pyugrid/pyugrid} to maintain pace
with the latest geospatial software and standards developments such as
unstructured grid support and CF-UGrid
Compliance\footnote{https://github.com/ugrid-conventions/ugrid-conventions/blob/v0.9.0/ugrid-conventions.md}.

Vital to the efficiency of \sciwms{} is the abstraction
of a dataset into two entities: a topology, defined as
a geo-referenced spatial structure and numerical model output as
visualized in Figure~\ref{fig:sciwms_topology_endpoints}. \Sciwms{}
creates a local topology cache for efficiently computing spatial
neighborhoods with respect to topology structure.  For storage
efficiency, model output is not replicated locally but referenced via
OGC compliant web-services. Because geospatial \wms{} requests are
commonly restricted to a subset of the Earth's surface, \sciwms{} uses
the local topology to compute the subset of model data needed to
fulfill each request prior to accessing the external
data. Furthermore, by classifying topologies as either regular or
unstructured, efficient algorithms and data structures are exploited
to optimize the computation of relevant model data subsets.
\begin{figure}[ht!]
  \centering
  \includegraphics[width=0.7\columnwidth]{../figs/overview.pdf}
  \caption{Overview of the \sciwms{} deployment for the U.S. \ioos{}
    \comt{} project. \Sciwms{} updates its topology and endpoint
    database via a nightly service which queries CF-Compliant datasets
    cataloged by \ngdc{}. Model data is hosted on an external web server
    exposed by an \ncml{} facade as a single \netcdf{} data structure
    accessable to \sciwms{} via \opendap{}. \Sciwms{} responds to http
    clients interfacing through a custom built web portal.}
  \label{fig:overview1}
\end{figure}
\begin{figure}[ht!]
  \centering
  \includegraphics[width=0.6\columnwidth]{../figs/sciwms_db_topology_endpoints.pdf}
  \caption{\Sciwms{} topology and endpoint data store. Typologies are
    classified as \cgrid{} and \ugrid{} for efficient geospatial
    queries and remote model data access.}
  \label{fig:sciwms_topology_endpoints}
\end{figure}
\section{Deploying \sciwms{} for the U.S. \ioos{} \comt{} Testbed}
While \sciwms{} is a general software solution for geospatial
visualization, it is a key component in realizing the U.S. \ioos{}
\comt{} mission, facilitating qualitative model comparisons and
aggregation through a unified visualization
framework. Figure~\ref{fig:overview1} outlines the cyberinfrastructre
behind the deployment of \sciwms{} for the \comt{} project.

The \noaa{}\footnote{National Oceanic and Atmospheric
  Administration}--\ngdc{}\footnote{National Geophysical Data Center}
Geoportal indexes public geophysical datasets and provides an \ogc{}
Catalogue Web Service (\csw{}) to query datasets by their metadata
attributes. \sciwms{} queries the \ngdc{} Geoportal at regular intervals
updating both the topologies and \opendap{} links for all new or
modified datasets.

Raw coastal data is hosted by the Southeastern Universities Research
Association (\sura{}) on a dedicated server for the \comt{}
project~\cite{luettich12}. Each data set may consist of multiple files
in different formats, and may be the result of very different models
run by various institutions with disparate computing
resources. However, accompanying each dataset is an \ncml{} virtual
layer which exposes each dataset as a single \netcdf{} object which
may be accessed via
\opendap{}\footnote{http://www.opendap.org/}. Furthermore, the \ncml{}
facade presents a consistent set of meta information in accordance to
CF-Conventions~\cite{cf} providing services like \sciwms{} access to
the raw data through a uniform interface.

Currently, \Sciwms{} is used to visualize data from the first phase
groups of \ioos{} \comt{} program: {\em estuarine hypoxia, shelf hypoxia and
  coastal inundation}~\cite{luettich13}. For each modeling group,
\sciwms{} successfully generates visualizations from \adcirc{},
\fvcom{}, \selfe{} and \slosh{} models and serves as a use-case of how
\sciwms{} can be leveraged as a scalable solution for delivering
consistent visualizations of scientific data to a diverse community.

\section{Results}
\label{sec:results}
Figure~\ref{fig:adcirc_comp} shows a web portal utilizing the
\sciwms{} backend to compare ADCIRC model output for Hurricane Ike
with water levels observed by NOAA stations. Ongoing development is in
progress for \sciwms{} to support emerging geophysical datasets such
as ensemble model output and to provide clear visual support for
the assessment and quantification of model skill and performance
metrics.
\begin{figure}[ht!]
  \centering
  \includegraphics[width=\columnwidth]{../figs/SciWMS_ModelObsComparison}
  \caption{Comparison of ADCIRC (unstructured topology) model results
    with observed water levels in the Northern Gulf of Mexico for
    Hurricane Ike. Verified observed water levels are from NOAA's
    Station 8760922 (red dot on map). The map shows modeled water
    levels (in meters above the geoid) at the peak of the storm in
    southern Louisiana. The time series plot shows both the modeled
    (green) and observed (orange) water levels. The vertical blue line
    in the time series plot corresponds to the current time of the
    map.}
  \label{fig:adcirc_comp}
\end{figure}



% For figures use
%
%% \begin{figure}[b]
%% \sidecaption
%% % Use the relevant command for your figure-insertion program
%% % to insert the figure file.
%% % For example, with the graphicx style use
%% \includegraphics[scale=.65]{figure}
%% %
%% % If no graphics program available, insert a blank space i.e. use
%% %\picplace{5cm}{2cm} % Give the correct figure height and width in cm
%% %
%% \caption{If the width of the figure is less than 7.8 cm use the \texttt{sidecapion} command to flush the caption on the left side of the page. If the figure is positioned at the top of the page, align the sidecaption with the top of the figure -- to achieve this you simply need to use the optional argument \texttt{[t]} with the \texttt{sidecaption} command}
%% \label{fig:1}       % Give a unique label
%% \end{figure}
\FloatBarrier
\bibliographystyle{ieeetr}
\bibliography{../ci_mayer}
\end{document}
